<view class="container">
  <!-- å¤´éƒ¨ç»Ÿè®¡å¡ç‰‡ -->
  <view class="header">
    <view class="summary-cards">
      <view class="summary-card">
        <text class="card-label">æœ¬æœˆæ”¯å‡º</text>
        <text class="card-value">Â¥{{monthlyExpense}}</text>
        <text class="card-change">{{monthlyChange}}</text>
      </view>
      <view class="summary-card">
        <text class="card-label">æ—¥å‡æ¶ˆè´¹</text>
        <text class="card-value">Â¥{{dailyAverage}}</text>
        <text class="card-change">å…±{{totalDays}}å¤©</text>
      </view>
    </view>
  </view>

  <!-- æ—¶é—´ç­›é€‰ -->
  <view class="time-filter">
    <view 
      class="time-tab {{activeTimeFilter === item.key ? 'active' : ''}}"
      wx:for="{{timeFilters}}" 
      wx:key="key"
      bindtap="switchTimeFilter"
      data-filter="{{item.key}}"
    >
      {{item.name}}
    </view>
  </view>

  <!-- ç±»åˆ«ç»Ÿè®¡ -->
  <view class="category-stats">
    <view class="section-title">
      <text>æ¶ˆè´¹åˆ†ç±»</text>
    </view>
    <view class="category-list">
      <view class="category-stat-item" wx:for="{{categoryStats}}" wx:key="category">
        <view class="category-info">
          <image class="category-icon" src="/images/category-{{item.category}}.png"></image>
          <view class="category-detail">
            <text class="category-name">{{item.category}}</text>
            <text class="category-count">{{item.count}}ç¬”</text>
          </view>
        </view>
        <view class="category-amount">
          <text class="amount-value">Â¥{{item.amount}}</text>
          <text class="amount-percent">{{item.percent}}%</text>
        </view>
        <view class="progress-bar">
          <view class="progress-fill" style="width: {{item.percent}}%"></view>
        </view>
      </view>
    </view>
  </view>

  <!-- æ¶ˆè´¹è¶‹åŠ¿ -->
  <view class="trend-section">
    <view class="section-title">
      <text>æ¶ˆè´¹è¶‹åŠ¿</text>
    </view>
    <view class="trend-chart">
      <view class="chart-placeholder">
        <text>ğŸ“Š æ¶ˆè´¹è¶‹åŠ¿å›¾</text>
        <text class="chart-desc">æ˜¾ç¤ºæœ€è¿‘{{activeTimeFilter === 'week' ? '7å¤©' : '30å¤©'}}çš„æ¶ˆè´¹å˜åŒ–</text>
      </view>
    </view>
  </view>

  <!-- æ¶ˆè´¹è®°å½•æ‘˜è¦ -->
  <view class="records-summary">
    <view class="section-title">
      <text>æœ€å¤§æ”¯å‡º</text>
    </view>
    <view class="top-records">
      <view class="top-record-item" wx:for="{{topRecords}}" wx:key="_id">
        <view class="record-left">
          <image class="record-icon" src="/images/category-{{item.category}}.png"></image>
          <view class="record-detail">
            <text class="record-desc">{{item.description}}</text>
            <text class="record-date">{{item.dateText}}</text>
          </view>
        </view>
        <text class="record-amount">Â¥{{item.amount}}</text>
      </view>
    </view>
  </view>
</view> 